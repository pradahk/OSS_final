이 서비스는 치매 환자들의 증상 진행 지연을 도와주는 서비스야.
일단 사용자가 진단서를 받아서 그 안에 있는 기본 사용자 정보를 저장해.
그 정보 중 진단일(치매 진단일)을 기준으로 30일 동안은 사용자가 추억을 떠올릴 수 있는 질문을 매일 2개씩하고 그 이후부터는 추억 떠올리는 질문 1개에 이전 30일 동안 모아둔 질문 중 오래된 것부터 재질문을 해.
예를 들면 "이전에 질문했던  '가장 좋아하는 색깔이 무엇인가요?' 에 대한 질문을 기억하시나요?" 처럼 하는거야.
자, 일단 30일 동안 질문 2개씩 하는 단계에서는 사용자 답변 원본 txt를 저장할거고 내가 만들어놓은 '문장에 대한 핵심 키워드 6개를 추출해주는 인공지능 모델'을 사용해서 각 답변에 대한 키워드를 생성하고 저장할거야.
즉, 질문-원본답변(사용자의 첫 답변)-추출된 키워드 가 하나의 세트로 각각 저장되는거지.
그리고 30일 이후부터의 재질문 단계는 예시처럼 재질문을 했을 때 사용자가 기억하는지 못하는지에 따라 서비스 진행이 달라져.

우선, 사용자가 기억한다고 체크박스를 고르면, 사용자가 그 질문에 대해 자신이 무슨 답변을 했었는지 다시 답변을 입력해.
즉, 가장 예전에 질문되었던 질문에 대한 두번째 답변이 생기는거지.
이 두번째 답변과 우리가 이미 추출해놓은 키워드를 가지고 유사도 검사를 할거야.
추출해놓은 키워드가 사용자의 두번째 답변 안에 들어가 있는지 확인하는거지.
만약 3개 이상 들어가 있다면 pass로 그 질문은 기억하는 질문이기 때문에 나중에 또 사용할 수 있어.
만약 3개 이상 들어가있지 않아 fail 한다면 난 힌트를 제공할거야.
이미지생성 api를 가지고 그 생성 프롬프트 안에 "Make a photo abou [추출된 키워드]" 를 넣어서 이미지 url을 만들고 이를 힌트로 제공하면서 사용자에게 그 질문에 대한 세번째 답변을 받고 다시 추출된 키워드가 이 답변에서 3개 이상을 가지고 있는지 유사도 검사를 할거야.
만약 여기에서 pass하면 이 질문을 기억하는 질문으로 나중에 다시 사용하겠지만 fail하면 사용자에게 원본 답변(사용자의 첫번째 답변)을 보여주고 이 질문은 폐기할거야.

자, 다시 사용자가 재질문에서 기억하지 못한다고 체크박스를 고른 경우로 가보자.
그 경우에는 바로 추출된 키워드를 이미지 생성 api를 써서 이미지를 만들고 힌트로 제공해.
그리고 힌트 이미지를 보여주고 다시 기억하는지 못하는지 다시 체크박스를 고르게 해.
만약 이 두 번째 체크박스에서 기억한다고 하면, 사용자는 이 질문에 대한 두번째 답변을 입력하고 이 답변에 추출된 키워드가 3개 이상 들어있는지 유사도 검사를 해.
그래서 pass하면 이 질문은 기억하니까 나중에 다시 재사용 가능한거고 fail하면 사용자에게 원본 답변(첫번째 답변)을 보여주고 폐기해.
두 번째 체크박스에서 기억이 안난다고 체크하면 그냥 바로 원본 답변 보여주고 이 질문 폐기해.